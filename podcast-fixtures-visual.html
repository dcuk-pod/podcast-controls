<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Podcast - Fixtures</title>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
 
    <style>
        /* CSS styles remain unchanged */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        body{background-color:transparent;font-family:'Poppins',sans-serif;color:#000;margin:0;padding:0;box-sizing:border-box}.main-container{width:400px;height:800px;background-color:#fff;box-shadow:0 4px 15px rgba(0,0,0,.1);display:flex;flex-direction:column;overflow:hidden;transition:opacity .5s ease-in-out}.main-container.hidden{opacity:0;pointer-events:none}.header{padding:15px 10px;border-bottom:1px solid #eee;flex-shrink:0}.header h1{margin:0;font-size:22px;text-align:center}.fixtures-list{flex-grow:1;padding:0 5px;overflow:hidden;display:flex;flex-direction:column;justify-content:flex-start}.fixture-item{padding:10px 0;border-bottom:1px solid #eee}.fixture-item:last-child{border-bottom:none}.fixture-teams{display:flex;justify-content:space-between;align-items:center}.team{display:flex;align-items:center;gap:10px;width:40%;font-size:12px;font-weight:600}.team.home{justify-content:flex-end;flex-direction:row-reverse}.team-logo{width:28px;height:28px}.score-or-time{font-size:14px;font-weight:700;text-align:center}.score-or-time.result{background-color:#eee;padding:5px 5px;border-radius:4px}.fixture-meta{text-align:center;font-size:12px;color:#888;margin-top:6px}.competition-line::before{content:'üèÜ';margin-right:5px}.venue-line::before{content:'üìç';margin-right:5px}.ref-line::before{content:'üë§';margin-right:5px}.fixtures-nav{display:flex;justify-content:center;align-items:center;padding:5px 10px;border-top:1px solid #eee;flex-shrink:0}.page-indicator{font-size:12px;color:#555}.placeholder-message{text-align:center;color:#999;font-style:italic;margin-top:auto;margin-bottom:auto}
    </style>
</head>
<body>
    <div class="main-container hidden" id="main-container">
        <div class="header">
            <h1 id="panel-title">Fixtures & Results</h1>
        </div>
        <div class="fixtures-list" id="fixtures-list"></div>
        <div class="fixtures-nav">
            <div class="page-indicator" id="page-indicator">Page 1 / 1</div>
        </div>
    </div>

    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyCFDYDSsOswmf2xn8-Z6LNw4Qu-kiph2X4",
            authDomain: "scoreboard-control.firebaseapp.com",
            projectId: "scoreboard-control",
            storageBucket: "scoreboard-control.appspot.com",
            messagingSenderId: "438021450087",
            appId: "1:438021450087:web:cb4eb72e0858b4b2f627c2"
        };
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // All of your existing JavaScript for this page remains unchanged
            const pageSwitchInterval=5e3,teamId=1615;let pages=[],currentPage=0,pageCycleInterval=null;const mainContainer=document.getElementById("main-container"),listContainer=document.getElementById("fixtures-list"),panelTitle=document.getElementById("panel-title"),pageIndicator=document.getElementById("page-indicator"),visibilityDocRef=db.collection("podcast").doc("visibility"),fixturesDataDocRef=db.collection("podcast").doc("fixturesData");function renderFixturesPage(e){listContainer.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.className="fixture-item";let a="";const i=e.fixture.status.short;if(["FT","AET","PEN","1H","2H","HT"].includes(i))a=`<span class="score-or-time result">${e.goals.home} - ${e.goals.away}</span>`;else{const i=new Date(e.fixture.date),s=i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"America/New_York"});a=`<span class="score-or-time">${s}</span>`}const s=e.league.name||"",n=e.fixture.venue?.name||"",r=e.fixture.venue?.city||"",o=e.fixture.referee||"";let c="";s&&(c+=`<div class="competition-line">${s}</div>`),n&&(c+=`<div class="venue-line">${n}, ${r}</div>`),o&&(c+=`<div class="ref-line">${o}</div>`),t.innerHTML=`
                        <div class="fixture-teams">
                            <div class="team home"><span class="team-name">${e.teams.home.name}</span><img src="${e.teams.home.logo}" class="team-logo"></div>
                            ${a}
                            <div class="team away"><img src="${e.teams.away.logo}" class="team-logo"><span class="team-name">${e.teams.away.name}</span></div>
                        </div>
                        <div class="fixture-meta">${c}</div>
                    `,listContainer.appendChild(t)})}function renderPage(){if(0===pages.length)return;currentPage=currentPage%pages.length;const e=pages[currentPage];panelTitle.textContent=`${e.teamName} Fixtures`,renderFixturesPage(e.data),pageIndicator.textContent=`Page ${currentPage+1} / ${pages.length}`}function cyclePage(){currentPage++,renderPage()}function processFirestoreData(e){if(!e||!e.fixtures)return void(listContainer.innerHTML='<div class="placeholder-message">Waiting for fixtures data...</div>');const a=e.fixtures;pages=[];const i=a.length>0?1615===a[0].teams.home.id?a[0].teams.home.name:a[0].teams.away.name:"Team";for(let e=0;e<a.length;e+=6)pages.push({type:"fixtures",teamName:i,data:a.slice(e,e+6)});currentPage=0,renderPage(),pageCycleInterval&&clearInterval(pageCycleInterval),pages.length>1&&(pageCycleInterval=setInterval(cyclePage,5e3))}visibilityDocRef.onSnapshot(e=>{if(e.exists){e.data().showFixtures?mainContainer.classList.remove("hidden"):mainContainer.classList.add("hidden")}}),fixturesDataDocRef.onSnapshot(e=>{e.exists?processFirestoreData(e.data()):listContainer.innerHTML='<div class="placeholder-message">Waiting for data from control panel...</div>'});
        });
    </script>
</body>
</html>